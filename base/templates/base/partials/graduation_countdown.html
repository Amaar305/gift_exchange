{% if event.is_countdown_active %}
<section class="max-w-5xl mx-auto px-6 pt-12">
    <div class="glass-card rounded-2xl p-8 md:p-12 text-center relative overflow-hidden">
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-primary rounded-b-full opacity-50">
        </div>
        <h4 class="text-primary text-xs font-black tracking-[0.3em] uppercase mb-8">Commencement Countdown
        </h4>

        <div id="countdown" data-date="{{ event.countdown_datetime|date:'Y-m-d H:i:s' }}"
            class="flex flex-wrap justify-center gap-4 md:gap-8">
            <div class="flex flex-col items-center">
                <div class="text-5xl md:text-7xl font-black text-primary tabular-nums" id="days"></div>
                <div class="text-[10px] uppercase tracking-[0.2em] font-bold text-slate-400 mt-2">Days</div>
            </div>
            <div class="text-4xl md:text-6xl font-light text-primary/30 py-1">:</div>
            <div class="flex flex-col items-center">
                <div class="text-5xl md:text-7xl font-black text-primary tabular-nums" id="hours"></div>
                <div class="text-[10px] uppercase tracking-[0.2em] font-bold text-slate-400 mt-2">Hours
                </div>
            </div>
            <div class="text-4xl md:text-6xl font-light text-primary/30 py-1">:</div>
            <div class="flex flex-col items-center">
                <div class="text-5xl md:text-7xl font-black text-primary tabular-nums" id="minutes"></div>
                <div class="text-[10px] uppercase tracking-[0.2em] font-bold text-slate-400 mt-2">Minutes
                </div>
            </div>
            <div class="text-4xl md:text-6xl font-light text-primary/30 py-1">:</div>
            <div class="flex flex-col items-center">
                <div class="text-5xl md:text-7xl font-black text-primary tabular-nums" id="seconds">12</div>
                <div class="text-[10px] uppercase tracking-[0.2em] font-bold text-slate-400 mt-2">Seconds
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const countdownEl = document.getElementById("countdown");
    const targetDate = new Date(countdownEl.dataset.date).getTime();

    setInterval(() => {
        const now = new Date().getTime();
        const diff = targetDate - now;

        if (diff <= 0) return;

        document.getElementById("days").innerText =
            Math.floor(diff / (1000 * 60 * 60 * 24));

        document.getElementById("hours").innerText =
            Math.floor((diff / (1000 * 60 * 60)) % 24);

        document.getElementById("minutes").innerText =
            Math.floor((diff / (1000 * 60)) % 60);

        document.getElementById("seconds").innerText =
            Math.floor((diff / 1000) % 60);

    }, 1000);
</script>
{% endif %}