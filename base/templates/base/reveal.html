{% extends "base.html" %}
{% block title %}Reveal{% endblock title %}
{% block content %}

<div
  class="relative flex flex-col min-h-screen w-full overflow-x-hidden bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-primary/10 via-background-dark to-background-dark">

  {% if event.is_reveal_active %}
  {% include "base/partials/reveal_await.html" %}
  {% else %}

  <!-- Main Content -->
  <main class="flex-1 flex flex-col items-center justify-center px-4 py-12">
    <div class="w-full max-w-[540px] flex flex-col gap-8">
      <!-- Hero Section -->
      <div class="text-center space-y-4">
        <div
          class="inline-flex items-center justify-center p-3 rounded-full bg-primary/10 mb-2 border border-primary/20">
          <span class="material-symbols-outlined text-primary text-4xl">lock_open</span>
        </div>
        <h1 class="text-slate-100 text-4xl md:text-5xl font-extrabold tracking-tight leading-none italic">
          The Grand <span class="text-primary not-italic">Reveal</span>
        </h1>
        <p class="text-slate-400 text-lg font-light max-w-md mx-auto">
          Your secret benefactor is waiting to be discovered. Enter your unique credentials to unlock the
          mystery.
        </p>
      </div>
      <!-- Glassmorphism Form -->
      <form class="relative p-1 rounded-2xl bg-gradient-to-b from-primary/30 to-transparent"
        hx-post="{% url 'reveal' %}" hx-target="#reveal-response" hx-swap="innerHTML">
        {% csrf_token %}

        <div class="bg-[#1a1812]/80 backdrop-blur-xl rounded-xl p-8 shadow-2xl border border-white/5 space-y-6">
          <div id="reveal-response" class="mt-4"></div>
          <!-- UG Number Input -->
          <div class="flex flex-col gap-2">
            <label class="text-slate-300 text-sm font-semibold tracking-widest uppercase ml-1">UG
              Number</label>
            <div class="relative group">
              <span
                class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-primary/50 group-focus-within:text-primary transition-colors">badge</span>
              <input
                class="w-full bg-background-dark/50 border border-primary/20 rounded-lg py-4 pl-12 pr-4 text-slate-100 placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all text-lg font-medium"
                name="ug_number" required placeholder="e.g. UG-2024-001" type="text" />
            </div>
          </div>
          <!-- Reveal Token Input -->
          <div class="flex flex-col gap-2">
            <label class="text-slate-300 text-sm font-semibold tracking-widest uppercase ml-1">Reveal
              Token</label>
            <div class="relative group">
              <span
                class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-primary/50 group-focus-within:text-primary transition-colors">key</span>
              <input
                class="w-full bg-background-dark/50 border border-primary/20 rounded-lg py-4 pl-12 pr-4 text-slate-100 placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all text-lg font-medium tracking-[0.3em]"
                name="token" required placeholder="••••••••" type="password" />
            </div>
          </div>
          <!-- Reveal Button -->
          <button
            class="w-full bg-gradient-to-r from-primary via-[#f7e09a] to-primary hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 rounded-lg py-5 px-6 shadow-[0_0_20px_rgba(212,175,53,0.3)] group">
            <div class="flex items-center justify-center gap-3">
              <span class="text-background-dark text-xl font-extrabold uppercase tracking-[0.15em]">Reveal
                Gift</span>
              <span
                class="material-symbols-outlined text-background-dark group-hover:rotate-12 transition-transform">redeem</span>
            </div>
          </button>
        </div>
      </form>
      <!-- Footer Context -->
      <div class="flex flex-col items-center gap-4 text-center">
        <p class="text-slate-500 text-sm italic font-light">
          Exclusive for the Class of 2024 Graduation Gala
        </p>
        <div class="flex gap-2">
          <div class="w-1.5 h-1.5 rounded-full bg-primary/40"></div>
          <div class="w-1.5 h-1.5 rounded-full bg-primary/20"></div>
          <div class="w-1.5 h-1.5 rounded-full bg-primary/10"></div>
        </div>
      </div>
    </div>
  </main>

  {% endif %}

  <!-- Decorative Floating Elements -->
  <div class="fixed top-1/4 -left-20 w-64 h-64 bg-primary/5 blur-[120px] rounded-full pointer-events-none"></div>
  <div class="fixed bottom-1/4 -right-20 w-80 h-80 bg-primary/10 blur-[150px] rounded-full pointer-events-none">
  </div>
</div>

{% endblock %}